# New prefix: "Ctrl + a"
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Unbind some defaults
unbind %
unbind '"'
unbind t
unbind w
unbind x
unbind o
unbind s
unbind -
unbind 0

# General keybinds
bind x kill-pane
bind t set-option status
bind r source-file ~/.config/tmux/tmux.conf
# bind w run-shell -b "~/.config/tmux/plugins/tmux-fzf/scripts/session.sh switch && ~/scripts/tmux-previous-session"
# bind o display-popup -BEh 30% "~/scripts/tmux-workplace --window"

# bind s display-popup -BEh 30% "~/scripts/tmux-workplace && ~/scripts/tmux-previous-session"
# bind s display-popup -BEh 30% "~/scripts/tmux-workplace"
# bind 0 run-shell -b "tmux switch-client -t 'personal-notes'"
# bind ` run-shell -b "tmux switch-client -t $(cat ~/.tmux/tmux-previous-session)"

bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

bind b split-window -v -c "#{pane_current_path}"
bind v split-window -h -c "#{pane_current_path}"

# Switch between windows: "Shift + Alt + <H | L>"
bind -n M-H previous-window
bind -n M-L next-window

# Copy mode
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle

# wl-copy
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "wl-copy && wl-paste -n | wl-copy -p"
bind-key p run "wl-paste -n | tmux load-buffer - ; tmux paste-buffer"

# xclip
# bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xclip -i -sel clip > /dev/null"
# bind-key p run "xclip -o -sel clip | tmux load-buffer - ; tmux paste-buffer"
